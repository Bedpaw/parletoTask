(function(e){function t(t){for(var r,i,l=t[0],o=t[1],u=t[2],d=0,m=[];d<l.length;d++)i=l[d],Object.prototype.hasOwnProperty.call(n,i)&&n[i]&&m.push(n[i][0]),n[i]=0;for(r in o)Object.prototype.hasOwnProperty.call(o,r)&&(e[r]=o[r]);c&&c(t);while(m.length)m.shift()();return s.push.apply(s,u||[]),a()}function a(){for(var e,t=0;t<s.length;t++){for(var a=s[t],r=!0,l=1;l<a.length;l++){var o=a[l];0!==n[o]&&(r=!1)}r&&(s.splice(t--,1),e=i(i.s=a[0]))}return e}var r={},n={app:0},s=[];function i(t){if(r[t])return r[t].exports;var a=r[t]={i:t,l:!1,exports:{}};return e[t].call(a.exports,a,a.exports,i),a.l=!0,a.exports}i.m=e,i.c=r,i.d=function(e,t,a){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},i.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(i.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)i.d(a,r,function(t){return e[t]}.bind(null,r));return a},i.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="/";var l=window["webpackJsonp"]=window["webpackJsonp"]||[],o=l.push.bind(l);l.push=t,l=l.slice();for(var u=0;u<l.length;u++)t(l[u]);var c=o;s.push([0,"chunk-vendors"]),a()})({0:function(e,t,a){e.exports=a("56d7")},"56d7":function(e,t,a){"use strict";a.r(t);a("e260"),a("e6cf"),a("cca6"),a("a79d");var r=a("2b0e"),n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-app",[a("v-main",[a("v-container",[a("users-table")],1)],1)],1)},s=[],i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-container",[a("v-row",[a("v-col",{attrs:{cols:"12"}},[a("v-card",[a("v-text-field",{staticClass:"px-4 search-field",attrs:{label:"Szukaj...","single-line":"",clearable:""},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}}),a("v-data-table",{attrs:{items:e.filteredUsers,headers:e.headers,search:e.search},scopedSlots:e._u([{key:"top",fn:function(){return[a("div",{staticClass:"d-flex justify-end mr-4"},[a("add-user-dialog",{attrs:{"available-departments":e.getAllDepartments,"available-currency":e.getAllCurrency,dialog:e.dialog},on:{toggle_dialog:function(t){e.dialog=!e.dialog},add_user:e.addUser}})],1)]},proxy:!0},{key:"item.salary",fn:function(t){var a=t.item;return[e._v(" "+e._s(parseFloat(a.salary).toFixed(2))+" ")]}},{key:"no-data",fn:function(){return[a("p",[e._v("Brak użytkowników spełniających podane kryteria")])]},proxy:!0}])})],1)],1)],1),a("v-row",[a("v-col",{attrs:{cols:"12",md:"6"}},[a("users-table-filters",{attrs:{users:e.getUsers,"available-departments":e.getAllDepartments},on:{users_filtered:e.getFilteredUsers}})],1),a("v-col",{attrs:{cols:"12",md:"6"}},[a("departments-salary-details",{attrs:{users:e.filteredUsers}})],1)],1)],1)},l=[],o=a("5530"),u=[{imie:"Jan",nazwisko:"Kowalski",dzial:"IT",wynagrodzenieKwota:"3000",wynagrodzenieWaluta:"PLN"},{imie:"Anna",nazwisko:"Bąk",dzial:"Administracja",wynagrodzenieKwota:"2400.50",wynagrodzenieWaluta:"PLN"},{imie:"Paweł",nazwisko:"Zabłocki",dzial:"IT",wynagrodzenieKwota:"3300",wynagrodzenieWaluta:"PLN"},{imie:"Tomasz",nazwisko:"Osiecki",dzial:"Administracja",wynagrodzenieKwota:"2100",wynagrodzenieWaluta:"PLN"},{imie:"Iwona",nazwisko:"Leihs-Gutowska",dzial:"Handlowiec",wynagrodzenieKwota:"3100",wynagrodzenieWaluta:"PLN"}],c=[{text:"Imię",value:"name",sortable:!0,filterable:!0},{text:"Nazwisko",value:"surname",sortable:!0},{text:"Dział",value:"department",sortable:!0},{text:"Wynagrodzenie",value:"salary",sortable:!0},{text:"Waluta",value:"currency",sortable:!0}],d=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-card",{staticClass:"d-flex flex-column align-center"},[a("v-card-title",{staticClass:"mb-8"},[e._v(" Podsumowanie wynagrodzeń ")]),a("v-card-subtitle",[e._v(" Całkowite wynagrodzenia ")]),a("v-card-text",{staticClass:"d-flex justify-center font-weight-bold"},[e._v(" "+e._s(e._f("currency")(e._f("toFixed2")(e.salaryForAllDepartments)))+" ")]),a("v-card-subtitle",[e._v(" Wynagrodzenia z podziałem na działy ")]),a("v-card-text",{staticClass:"d-flex flex-column align-center"},e._l(e.salaryByDepartments,(function(t,r){return a("p",{key:t.name+r},[e._v(" "+e._s(t.name)+" : "+e._s(e._f("currency")(e._f("toFixed2")(t.salary)))+" ")])})),0)],1)},m=[],f=(a("d81d"),a("13d5"),a("b680"),a("4fad"),a("3835")),y=(a("c975"),a("a434"),function(e,t){return e.reduce((function(e,a){var r=a[t];return e[r]=e[r]||[],e[r].push(a),e}),{})}),p=function(e,t){return e.map((function(e){return e[t]})).reduce((function(e,t){return e+parseFloat(t)}),0)},v=function(e,t){var a=e.indexOf(t);a>-1&&e.splice(a,1)},b={groupBy:y,sumByKey:p,remove:v},g={name:"DepartmentsSalaryDetails",props:{users:{type:Array,required:!0}},filters:{currency:function(e){return e+" PLN"},toFixed2:function(e){return e.toFixed(2)}},computed:{groupByDepartments:function(){return b.groupBy(this.users,"department")},salaryByDepartments:function(){for(var e=[],t=0,a=Object.entries(this.groupByDepartments);t<a.length;t++){var r=Object(f["a"])(a[t],2),n=r[0],s=r[1];e.push({name:n,salary:b.sumByKey(s,"salary")})}return e},salaryForAllDepartments:function(){return this.users.map((function(e){return e.salary})).reduce((function(e,t){return e+parseFloat(t)}),0)}}},h=g,w=a("2877"),x=a("6544"),z=a.n(x),k=a("b0af"),F=a("99d9"),D=Object(w["a"])(h,d,m,!1,null,"362bc237",null),_=D.exports;z()(D,{VCard:k["a"],VCardSubtitle:F["b"],VCardText:F["c"],VCardTitle:F["d"]});var j=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-card",[a("v-card-title",{staticClass:"d-flex justify-center"},[e._v(" Filtruj użytkowników ")]),a("v-card-actions",{staticClass:"flex-column"},[a("div",{staticClass:"d-flex flex-column flex-md-row box-width align-center"},[a("v-select",{attrs:{items:e.availableDepartments,disabled:!1===e.isDepartmentsFilterOn,label:"Dział",chips:"",multiple:"",outlined:""},model:{value:e.chosenDepartments,callback:function(t){e.chosenDepartments=t},expression:"chosenDepartments"}}),a("v-btn",{staticClass:"my-4 ml-4 info",on:{click:e.toggleDepartmentsFilter}},[e._v(" "+e._s(e.isDepartmentsFilterOn?"Wyłącz":"Włącz")+" ")])],1),a("div",{staticClass:"salary-filters-container flex-md-row box-width"},[a("div",{staticClass:"d-flex justify-space-between"},[a("v-text-field",{staticClass:"salary-input-width",attrs:{disabled:!1===e.isSalaryFilterOn,label:"Minimalne wynagrodzenie",type:"number",step:"50",min:"0"},model:{value:e.minSalary,callback:function(t){e.minSalary=t},expression:"minSalary"}}),a("v-text-field",{staticClass:"salary-input-width ml-6",attrs:{disabled:!1===e.isSalaryFilterOn,label:"Maksymalne wynagrodzenie",type:"number",step:"50",min:"0"},model:{value:e.maxSalary,callback:function(t){e.maxSalary=t},expression:"maxSalary"}})],1),a("v-btn",{staticClass:"my-4 ml-4 info",on:{click:e.toggleSalaryFilter}},[e._v(" "+e._s(e.isSalaryFilterOn?"Wyłącz":"Włącz")+" ")])],1),a("v-btn",{staticClass:"my-4 warning",on:{click:function(t){return e.cleanFilters()}}},[e._v(" Wyczyść wszystkie filtry ")])],1)],1)},C=[],O=(a("a623"),a("4de4"),a("caad"),a("2532"),a("2909")),S={name:"UsersTableFilters",props:{users:{type:Array,required:!0},availableDepartments:{type:Array,required:!0}},data:function(){return{filters:[],isDepartmentsFilterOn:!1,isSalaryFilterOn:!1,chosenDepartments:Object(O["a"])(this.availableDepartments),minSalary:1e3,maxSalary:5e3}},created:function(){this.$emit("users_filtered",this.getFilteredUsers)},computed:{salaryFilter:function(){var e=this;return function(t){return e.minSalary<=parseFloat(t.salary)&&e.maxSalary>=parseFloat(t.salary)}},departmentsFilter:function(){var e=this;return function(t){return e.chosenDepartments.includes(t.department)}},getFilteredUsers:function(){var e=this;return this.users.filter((function(t){return e.filters.every((function(e){return e(t)}))}))}},watch:{getFilteredUsers:function(){this.$emit("users_filtered",this.getFilteredUsers)}},methods:{removeFilter:function(e){b.remove(this.filters,e)},toggleDepartmentsFilter:function(){this.isDepartmentsFilterOn?(this.isDepartmentsFilterOn=!1,this.removeFilter(this.departmentsFilter)):(this.isDepartmentsFilterOn=!0,this.filters.push(this.departmentsFilter))},toggleSalaryFilter:function(){this.isSalaryFilterOn?(this.isSalaryFilterOn=!1,this.removeFilter(this.salaryFilter)):(this.isSalaryFilterOn=!0,this.filters.push(this.salaryFilter))},cleanFilters:function(){this.isDepartmentsFilterOn=!1,this.isSalaryFilterOn=!1,this.filters=[]}}},V=S,A=(a("653b"),a("8336")),U=a("b974"),W=a("8654"),P=Object(w["a"])(V,j,C,!1,null,"3241a642",null),T=P.exports;z()(P,{VBtn:A["a"],VCard:k["a"],VCardActions:F["a"],VCardTitle:F["d"],VSelect:U["a"],VTextField:W["a"]});var B=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-dialog",{attrs:{persistent:"","max-width":"500px"},scopedSlots:e._u([{key:"activator",fn:function(t){var r=t.attrs;return[a("v-btn",e._b({staticClass:"mb-2",attrs:{color:"primary",dark:""},on:{click:e.toggleDialog}},"v-btn",r,!1),[e._v(" Dodaj użytkownika ")])]}}]),model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[a("v-card",{staticClass:"d-flex flex-column align-center"},[a("v-card-title",[e._v(" Dodaj nowego użytkownika ")]),a("v-form",{ref:"form",attrs:{"lazy-validation":""},model:{value:e.valid,callback:function(t){e.valid=t},expression:"valid"}},[a("v-text-field",{attrs:{label:e.labels.name,rules:e.nameRules,required:""},model:{value:e.name,callback:function(t){e.name=t},expression:"name"}}),a("v-text-field",{attrs:{label:e.labels.surname,rules:e.surnameRules,required:""},model:{value:e.surname,callback:function(t){e.surname=t},expression:"surname"}}),a("v-select",{staticClass:"mt-2",attrs:{items:e.availableDepartments,rules:[function(e){return!!e||"Wybór działu jest wymagany"}],required:"",label:"Dział",chips:"",outlined:""},model:{value:e.department,callback:function(t){e.department=t},expression:"department"}}),a("v-text-field",{attrs:{label:e.labels.salary,rules:e.salaryRules,required:"",type:"number",step:"100",min:"0"},model:{value:e.salary,callback:function(t){e.salary=t},expression:"salary"}}),a("v-select",{staticClass:"mt-2",attrs:{items:e.availableCurrency,rules:[function(e){return!!e||"Wybór waluty jest wymagany"}],required:"",label:"Dział",chips:"",outlined:""},model:{value:e.currency,callback:function(t){e.currency=t},expression:"currency"}}),a("v-card-actions",[a("v-spacer"),a("v-btn",{staticClass:"warning",attrs:{text:""},on:{click:e.toggleDialog}},[e._v(" Cofnij ")]),a("v-btn",{staticClass:"success",attrs:{text:""},on:{click:function(t){return e.validate()}}},[e._v(" Dodaj ")])],1)],1)],1)],1)},N=[],q=(a("b0c0"),{name:"AddUserDialog",props:{dialog:{type:Boolean,required:!0},availableDepartments:{type:Array,required:!0},availableCurrency:{type:Array,required:!0}},data:function(){return{name:"",surname:"",department:"",salary:2e3,currency:"PLN",labels:{name:"Imię",surname:"Nazwisko",department:"Dział",salary:"Wynagrodzenie",currency:"Waluta"},valid:!1,nameRules:[function(e){return!!e||"Imię jest wymagane"},function(e){return e&&e.length>2||"Imię musi być dłuższe niż 2 znaki"}],surnameRules:[function(e){return!!e||"Nazwisko jest wymagane"},function(e){return e&&e.length>2||"Nazwisko musi być dłuższe niż 2 znaki"}],salaryRules:[function(e){return!!e||"Wybór pensji jest wymagany"},function(e){return e&&e>0||"Pensja nie może być niższa niż 0"}]}},methods:{clearUserForm:function(){this.name="",this.surname="",this.department="",this.salary=2e3,this.currency="PLN"},toggleDialog:function(){this.clearUserForm(),this.$emit("toggle_dialog")},validate:function(){this.$refs.form.validate()&&this.save()},save:function(){var e={name:this.name,surname:this.surname,department:this.department,salary:this.salary,currency:this.currency};this.$emit("add_user",e),this.toggleDialog()}}}),$=q,R=a("169a"),K=a("4bd4"),L=a("2fa4"),E=Object(w["a"])($,B,N,!1,null,null,null),I=E.exports;z()(E,{VBtn:A["a"],VCard:k["a"],VCardActions:F["a"],VCardTitle:F["d"],VDialog:R["a"],VForm:K["a"],VSelect:U["a"],VSpacer:L["a"],VTextField:W["a"]});var M=a("2f62"),J={name:"usersTable",components:{AddUserDialog:I,UsersTableFilters:T,DepartmentsSalaryDetails:_},data:function(){return{filteredUsers:[],headers:c,dialog:!1,search:""}},computed:Object(o["a"])({},Object(M["b"])(["getUsers","getAllDepartments","getAllCurrency"])),methods:Object(o["a"])(Object(o["a"])({},Object(M["c"])(["ADD_USER"])),{},{getFilteredUsers:function(e){this.filteredUsers=e},addUser:function(e){this.ADD_USER(e)}})},G=J,H=(a("5bc1"),a("62ad")),Z=a("a523"),Q=a("8fea"),X=a("0fd9"),Y=Object(w["a"])(G,i,l,!1,null,"dbe61a30",null),ee=Y.exports;z()(Y,{VCard:k["a"],VCol:H["a"],VContainer:Z["a"],VDataTable:Q["a"],VRow:X["a"],VTextField:W["a"]});var te={name:"App",components:{UsersTable:ee}},ae=te,re=a("7496"),ne=a("f6c4"),se=Object(w["a"])(ae,n,s,!1,null,null,null),ie=se.exports;z()(se,{VApp:re["a"],VContainer:Z["a"],VMain:ne["a"]});var le=a("f309");r["a"].use(le["a"]);var oe=new le["a"]({});a("d3b7"),a("6062"),a("3ca3"),a("ddb0");r["a"].use(M["a"]);var ue=u.map((function(e){return{name:e.imie,surname:e.nazwisko,department:e.dzial,salary:e.wynagrodzenieKwota,currency:e.wynagrodzenieWaluta}})),ce={users:ue},de=new M["a"].Store({state:ce,getters:{getUsers:function(e){return e.users},getAllDepartments:function(e){return Object(O["a"])(new Set(e.users.map((function(e){return e.department}))))},getAllCurrency:function(e){return Object(O["a"])(new Set(e.users.map((function(e){return e.currency}))))}},mutations:{ADD_USER:function(e,t){return e.users.push(t)}}});r["a"].config.productionTip=!1,new r["a"]({vuetify:oe,store:de,render:function(e){return e(ie)}}).$mount("#app")},"5bc1":function(e,t,a){"use strict";var r=a("d1ec"),n=a.n(r);n.a},"653b":function(e,t,a){"use strict";var r=a("e40c"),n=a.n(r);n.a},d1ec:function(e,t,a){},e40c:function(e,t,a){}});
//# sourceMappingURL=app.c74f1feb.js.map